# 鏡面反射スクリプト
AviUtlの拡張編集用の鏡面反射スクリプトです

## ダウンロード
"Clone or download" ボタンをクリックし，"Download ZIP" を選択してダウンロードしてください．

## インストール
ダウンロードされたzipファイルを解凍し，scriptフォルダ内のファイルをAviUtlのscriptフォルダへコピーしてください．

## 使い方
### @Cube_Mapping
カメラ座標を中心にキューブマップを描画するカスタムオブジェクト用スクリプトです．

カメラ制御ON，拡張描画でのみ正常に動作します．

"参照"ボタンからキューブマップ用のテクスチャ画像を読み込んでご使用ください．

- オフセット
  - キューブマップの面の隙間を埋めるためのオフセット量をピクセル単位で指定します．
- 空間サイズ
  - 描画するキューブマップのサイズをピクセル単位で指定します．0が指定された場合，カメラの焦点距離の10倍のサイズになります．
___
### @Reflection_Mapping
オブジェクト表面に鏡面反射のようにキューブマップ画像を投影するアニメーション効果用スクリプトです．

カメラ制御ON，拡張描画でのみ正常に動作します．鏡面反射の計算にオブジェクトの回転角度を用いているため，オブジェクトの種類によって正しく動作しないことがあります．

"参照"ボタンからキューブマップ用のテクスチャ画像を読み込んでご使用ください．

- オフセット
  - キューブマップの面の隙間を埋めるためのオフセット量をピクセル単位で指定します．
- 裏面を計算する
  - チェックを外すと裏面の投影計算を省略します．
___
### @Reflection_Polyhedron
鏡面反射する整面凸多面体を表示するアニメーション効果用スクリプトです．

カメラ制御ON，拡張描画でのみ正常に動作します．

"参照"ボタンからキューブマップ用のテクスチャ画像を読み込んでご使用ください．

- オフセット
  - キューブマップの面の隙間を埋めるためのオフセット量をピクセル単位で指定します．
- type
  - 表示する整面凸多面体を133タイプから指定します．
- 裏面を計算する
  - チェックを外すと裏面の投影計算を省略します．
___
### @Polyhedron
整面凸多面体を表示するアニメーション効果用スクリプトです．

カメラ制御ON，拡張描画でのみ正常に動作します．色ボタンで表示色を変更可能です．

- type
  - 表示する整面凸多面体を133タイプから指定します．
- 裏面を計算する
  - チェックを外すと裏面の投影計算を省略します．
___

## キューブマップテクスチャについて
下図のように，背景が6面に配置されたキューブマップテクスチャに対応しています．

![basic](https://user-images.githubusercontent.com/20677444/67217092-30d75680-f45f-11e9-9c53-823a8a2ad702.png)

"cube map", "sky box" で検索すると素材が見つかると思います．

## 整面凸多面体の頂点データについて
整面凸多面体の頂点データは三谷氏，小林氏，鈴木氏による整面凸多面体の頂点データを再配布したものです．
URL: http://mitani.cs.tsukuba.ac.jp/polyhedron/ (2019/10/25)

## ご使用上の注意
プロジェクトの画面サイズに依存しますが，最大で3641x2048の画像分のメモリが必要と想定されます．

AviUtlの"システムの設定"より，"最大画像サイズ"を十分確保してご使用頂ければ幸いです．

## 動作環境
AviUtl version 1.00, 1.10

拡張編集Plugin version 0.92, 0.93rc1

## バグ報告，コメント等
https://github.com/dateken/AUL_reflection_mapping へお願いいたします．
